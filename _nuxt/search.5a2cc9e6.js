import{H as P,T as H,M as K}from"./components.64dce752.js";import{_ as M}from"./productslist.af6dff6f.js";import{D as N,r as x,c as j,b as m,w as S,a as F,t as O,g,h as U,F as B,o as _,d as W}from"./entry.cea0bdbc.js";import{u as V}from"./useMyFetch.dffdcfee.js";const L={};function s(r,t,e,i){function n(u){return u instanceof e?u:new e(function(o){o(u)})}return new(e||(e=Promise))(function(u,o){function d(a){try{h(i.next(a))}catch(f){o(f)}}function l(a){try{h(i.throw(a))}catch(f){o(f)}}function h(a){a.done?u(a.value):n(a.value).then(d,l)}h((i=i.apply(r,t||[])).next())})}class y extends Error{constructor(t,e,i,n){var u,o,d;super(t),Object.setPrototypeOf(this,y.prototype),this.name="MeiliSearchCommunicationError",e instanceof Response&&(this.message=e.statusText,this.statusCode=e.status),e instanceof Error&&(this.errno=e.errno,this.code=e.code),n?(this.stack=n,this.stack=(u=this.stack)===null||u===void 0?void 0:u.replace(/(TypeError|FetchError)/,this.name),this.stack=(o=this.stack)===null||o===void 0?void 0:o.replace("Failed to fetch",`request to ${i} failed, reason: connect ECONNREFUSED`),this.stack=(d=this.stack)===null||d===void 0?void 0:d.replace("Not Found",`Not Found: ${i}`)):Error.captureStackTrace&&Error.captureStackTrace(this,y)}}const k=class extends Error{constructor(r,t){super(r.message),Object.setPrototypeOf(this,k.prototype),this.name="MeiliSearchApiError",this.code=r.code,this.type=r.type,this.link=r.link,this.message=r.message,this.httpStatus=t,Error.captureStackTrace&&Error.captureStackTrace(this,k)}};function G(r){return s(this,void 0,void 0,function*(){if(!r.ok){let t;try{t=yield r.json()}catch{throw new y(r.statusText,r,r.url)}throw new k(t,r.status)}return r})}function J(r,t,e){throw r.name!=="MeiliSearchApiError"?new y(r.message,r,e,t):r}class v extends Error{constructor(t){super(t),Object.setPrototypeOf(this,v.prototype),this.name="MeiliSearchError",Error.captureStackTrace&&Error.captureStackTrace(this,v)}}class R extends Error{constructor(t){super(t),Object.setPrototypeOf(this,R.prototype),this.name="MeiliSearchTimeOutError",Error.captureStackTrace&&Error.captureStackTrace(this,R)}}function A(r,t){return`${r}
Hint: It might not be working because maybe you're not up to date with the Meilisearch version that ${t} call requires.`}function w(r){return Object.entries(r).reduce((t,e)=>{const[i,n]=e;return n!==void 0&&(t[i]=n),t},{})}function Q(r){return s(this,void 0,void 0,function*(){return yield new Promise(t=>setTimeout(t,r))})}function z(r){return r.startsWith("https://")||r.startsWith("http://")?r:`http://${r}`}function X(r){return r.endsWith("/")||(r+="/"),r}function Y(r){return/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(r)}const Z="0.35.0";function D(r){return Object.keys(r).reduce((i,n)=>{const u=r[n];return u===void 0?i:Array.isArray(u)?Object.assign(Object.assign({},i),{[n]:u.join(",")}):u instanceof Date?Object.assign(Object.assign({},i),{[n]:u.toISOString()}):Object.assign(Object.assign({},i),{[n]:u})},{})}function tt(r){try{return r=z(r),r=X(r),r}catch{throw new v("The provided host is not valid.")}}function et(r){if(Array.isArray(r))return r.reduce((t,e)=>(t[e[0]]=e[1],t),{});if("has"in r){const t={};return r.forEach((e,i)=>t[i]=e),t}else return Object.assign({},r)}function it(r){var t,e;const i="X-Meilisearch-Client",n=`Meilisearch JavaScript (v${Z})`,u="Content-Type",o="Authorization",d=et((e=(t=r.requestConfig)===null||t===void 0?void 0:t.headers)!==null&&e!==void 0?e:{});if(r.apiKey&&!d[o]&&(d[o]=`Bearer ${r.apiKey}`),d[u]||(d["Content-Type"]="application/json"),r.clientAgents&&Array.isArray(r.clientAgents)){const l=r.clientAgents.concat(n);d[i]=l.join(" ; ")}else{if(r.clientAgents&&!Array.isArray(r.clientAgents))throw new v(`Meilisearch: The header "${i}" should be an array of string(s).
`);d[i]=n}return d}class T{constructor(t){this.headers=it(t),this.requestConfig=t.requestConfig,this.httpClient=t.httpClient;try{const e=tt(t.host);this.url=new URL(e)}catch{throw new v("The provided host is not valid.")}}request({method:t,url:e,params:i,body:n,config:u={}}){var o;return s(this,void 0,void 0,function*(){typeof fetch>"u"&&require("cross-fetch/polyfill");const d=new URL(e,this.url);if(i){const h=new URLSearchParams;Object.keys(i).filter(a=>i[a]!==null).map(a=>h.set(a,i[a])),d.search=h.toString()}!((o=u.headers)===null||o===void 0)&&o["Content-Type"]||(n=JSON.stringify(n));const l=Object.assign(Object.assign({},this.headers),u.headers);try{const a=(this.httpClient?this.httpClient:fetch)(d.toString(),Object.assign(Object.assign(Object.assign({},u),this.requestConfig),{method:t,body:n,headers:l}));return this.httpClient?yield a:yield(yield a.then(q=>G(q))).json().catch(()=>{})}catch(h){const a=h.stack;J(h,a,d.toString())}})}get(t,e,i){return s(this,void 0,void 0,function*(){return yield this.request({method:"GET",url:t,params:e,config:i})})}post(t,e,i,n){return s(this,void 0,void 0,function*(){return yield this.request({method:"POST",url:t,body:e,params:i,config:n})})}put(t,e,i,n){return s(this,void 0,void 0,function*(){return yield this.request({method:"PUT",url:t,body:e,params:i,config:n})})}patch(t,e,i,n){return s(this,void 0,void 0,function*(){return yield this.request({method:"PATCH",url:t,body:e,params:i,config:n})})}delete(t,e,i,n){return s(this,void 0,void 0,function*(){return yield this.request({method:"DELETE",url:t,body:e,params:i,config:n})})}}class c{constructor(t){this.taskUid=t.taskUid,this.indexUid=t.indexUid,this.status=t.status,this.type=t.type,this.enqueuedAt=new Date(t.enqueuedAt)}}class E{constructor(t){this.indexUid=t.indexUid,this.status=t.status,this.type=t.type,this.uid=t.uid,this.details=t.details,this.canceledBy=t.canceledBy,this.error=t.error,this.duration=t.duration,this.startedAt=new Date(t.startedAt),this.enqueuedAt=new Date(t.enqueuedAt),this.finishedAt=new Date(t.finishedAt)}}class I{constructor(t){this.httpRequest=new T(t)}getTask(t){return s(this,void 0,void 0,function*(){const e=`tasks/${t}`,i=yield this.httpRequest.get(e);return new E(i)})}getTasks(t={}){return s(this,void 0,void 0,function*(){const e="tasks",i=yield this.httpRequest.get(e,D(t));return Object.assign(Object.assign({},i),{results:i.results.map(n=>new E(n))})})}waitForTask(t,{timeOutMs:e=5e3,intervalMs:i=50}={}){return s(this,void 0,void 0,function*(){const n=Date.now();for(;Date.now()-n<e;){const u=yield this.getTask(t);if(!["enqueued","processing"].includes(u.status))return u;yield Q(i)}throw new R(`timeout of ${e}ms has exceeded on process ${t} when waiting a task to be resolved.`)})}waitForTasks(t,{timeOutMs:e=5e3,intervalMs:i=50}={}){return s(this,void 0,void 0,function*(){const n=[];for(const u of t){const o=yield this.waitForTask(u,{timeOutMs:e,intervalMs:i});n.push(o)}return n})}cancelTasks(t={}){return s(this,void 0,void 0,function*(){const e="tasks/cancel",i=yield this.httpRequest.post(e,{},D(t));return new c(i)})}deleteTasks(t={}){return s(this,void 0,void 0,function*(){const e="tasks",i=yield this.httpRequest.delete(e,{},D(t));return new c(i)})}}class p{constructor(t,e,i){this.uid=e,this.primaryKey=i,this.httpRequest=new T(t),this.tasks=new I(t)}search(t,e,i){return s(this,void 0,void 0,function*(){const n=`indexes/${this.uid}/search`;return yield this.httpRequest.post(n,w(Object.assign({q:t},e)),void 0,i)})}searchGet(t,e,i){var n,u,o,d,l,h,a;return s(this,void 0,void 0,function*(){const f=`indexes/${this.uid}/search`,b=$=>{if(typeof $=="string")return $;if(Array.isArray($))throw new v("The filter query parameter should be in string format when using searchGet")},q=Object.assign(Object.assign({q:t},e),{filter:b(e==null?void 0:e.filter),sort:(n=e==null?void 0:e.sort)===null||n===void 0?void 0:n.join(","),facets:(u=e==null?void 0:e.facets)===null||u===void 0?void 0:u.join(","),attributesToRetrieve:(o=e==null?void 0:e.attributesToRetrieve)===null||o===void 0?void 0:o.join(","),attributesToCrop:(d=e==null?void 0:e.attributesToCrop)===null||d===void 0?void 0:d.join(","),attributesToHighlight:(l=e==null?void 0:e.attributesToHighlight)===null||l===void 0?void 0:l.join(","),vector:(h=e==null?void 0:e.vector)===null||h===void 0?void 0:h.join(","),attributesToSearchOn:(a=e==null?void 0:e.attributesToSearchOn)===null||a===void 0?void 0:a.join(",")});return yield this.httpRequest.get(f,w(q),i)})}searchForFacetValues(t,e){return s(this,void 0,void 0,function*(){const i=`indexes/${this.uid}/facet-search`;return yield this.httpRequest.post(i,w(t),void 0,e)})}getRawInfo(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}`,e=yield this.httpRequest.get(t);return this.primaryKey=e.primaryKey,this.updatedAt=new Date(e.updatedAt),this.createdAt=new Date(e.createdAt),e})}fetchInfo(){return s(this,void 0,void 0,function*(){return yield this.getRawInfo(),this})}fetchPrimaryKey(){return s(this,void 0,void 0,function*(){return this.primaryKey=(yield this.getRawInfo()).primaryKey,this.primaryKey})}static create(t,e={},i){return s(this,void 0,void 0,function*(){const n="indexes",o=yield new T(i).post(n,Object.assign(Object.assign({},e),{uid:t}));return new c(o)})}update(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}`,i=yield this.httpRequest.patch(e,t);return i.enqueuedAt=new Date(i.enqueuedAt),i})}delete(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}`,e=yield this.httpRequest.delete(t);return new c(e)})}getTasks(t={}){return s(this,void 0,void 0,function*(){return yield this.tasks.getTasks(Object.assign(Object.assign({},t),{indexUids:[this.uid]}))})}getTask(t){return s(this,void 0,void 0,function*(){return yield this.tasks.getTask(t)})}waitForTasks(t,{timeOutMs:e=5e3,intervalMs:i=50}={}){return s(this,void 0,void 0,function*(){return yield this.tasks.waitForTasks(t,{timeOutMs:e,intervalMs:i})})}waitForTask(t,{timeOutMs:e=5e3,intervalMs:i=50}={}){return s(this,void 0,void 0,function*(){return yield this.tasks.waitForTask(t,{timeOutMs:e,intervalMs:i})})}getStats(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/stats`;return yield this.httpRequest.get(t)})}getDocuments(t={}){var e;return s(this,void 0,void 0,function*(){if(t=w(t),t.filter!==void 0)try{const i=`indexes/${this.uid}/documents/fetch`;return yield this.httpRequest.post(i,t)}catch(i){throw(i instanceof y||i instanceof k)&&(i.message=A(i.message,"getDocuments")),i}else{const i=`indexes/${this.uid}/documents`,n=Array.isArray(t==null?void 0:t.fields)?{fields:(e=t==null?void 0:t.fields)===null||e===void 0?void 0:e.join(",")}:{};return yield this.httpRequest.get(i,Object.assign(Object.assign({},t),n))}})}getDocument(t,e){return s(this,void 0,void 0,function*(){const i=`indexes/${this.uid}/documents/${t}`,n=(()=>{var u;if(Array.isArray(e==null?void 0:e.fields))return(u=e==null?void 0:e.fields)===null||u===void 0?void 0:u.join(",")})();return yield this.httpRequest.get(i,w(Object.assign(Object.assign({},e),{fields:n})))})}addDocuments(t,e){return s(this,void 0,void 0,function*(){const i=`indexes/${this.uid}/documents`,n=yield this.httpRequest.post(i,t,e);return new c(n)})}addDocumentsFromString(t,e,i){return s(this,void 0,void 0,function*(){const n=`indexes/${this.uid}/documents`,u=yield this.httpRequest.post(n,t,i,{headers:{"Content-Type":e}});return new c(u)})}addDocumentsInBatches(t,e=1e3,i){return s(this,void 0,void 0,function*(){const n=[];for(let u=0;u<t.length;u+=e)n.push(yield this.addDocuments(t.slice(u,u+e),i));return n})}updateDocuments(t,e){return s(this,void 0,void 0,function*(){const i=`indexes/${this.uid}/documents`,n=yield this.httpRequest.put(i,t,e);return new c(n)})}updateDocumentsInBatches(t,e=1e3,i){return s(this,void 0,void 0,function*(){const n=[];for(let u=0;u<t.length;u+=e)n.push(yield this.updateDocuments(t.slice(u,u+e),i));return n})}updateDocumentsFromString(t,e,i){return s(this,void 0,void 0,function*(){const n=`indexes/${this.uid}/documents`,u=yield this.httpRequest.put(n,t,i,{headers:{"Content-Type":e}});return new c(u)})}deleteDocument(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/documents/${t}`,i=yield this.httpRequest.delete(e);return i.enqueuedAt=new Date(i.enqueuedAt),i})}deleteDocuments(t){return s(this,void 0,void 0,function*(){const e=!Array.isArray(t)&&typeof t=="object",i=e?"documents/delete":"documents/delete-batch",n=`indexes/${this.uid}/${i}`;try{const u=yield this.httpRequest.post(n,t);return new c(u)}catch(u){throw(u instanceof y&&e||u instanceof k)&&(u.message=A(u.message,"deleteDocuments")),u}})}deleteAllDocuments(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/documents`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getSettings(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings`;return yield this.httpRequest.get(t)})}updateSettings(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings`,i=yield this.httpRequest.patch(e,t);return i.enqueued=new Date(i.enqueuedAt),i})}resetSettings(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getPagination(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/pagination`;return yield this.httpRequest.get(t)})}updatePagination(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/pagination`,i=yield this.httpRequest.patch(e,t);return new c(i)})}resetPagination(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/pagination`,e=yield this.httpRequest.delete(t);return new c(e)})}getSynonyms(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/synonyms`;return yield this.httpRequest.get(t)})}updateSynonyms(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/synonyms`,i=yield this.httpRequest.put(e,t);return new c(i)})}resetSynonyms(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/synonyms`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getStopWords(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/stop-words`;return yield this.httpRequest.get(t)})}updateStopWords(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/stop-words`,i=yield this.httpRequest.put(e,t);return new c(i)})}resetStopWords(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/stop-words`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getRankingRules(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/ranking-rules`;return yield this.httpRequest.get(t)})}updateRankingRules(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/ranking-rules`,i=yield this.httpRequest.put(e,t);return new c(i)})}resetRankingRules(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/ranking-rules`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getDistinctAttribute(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/distinct-attribute`;return yield this.httpRequest.get(t)})}updateDistinctAttribute(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/distinct-attribute`,i=yield this.httpRequest.put(e,t);return new c(i)})}resetDistinctAttribute(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/distinct-attribute`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getFilterableAttributes(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/filterable-attributes`;return yield this.httpRequest.get(t)})}updateFilterableAttributes(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/filterable-attributes`,i=yield this.httpRequest.put(e,t);return new c(i)})}resetFilterableAttributes(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/filterable-attributes`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getSortableAttributes(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/sortable-attributes`;return yield this.httpRequest.get(t)})}updateSortableAttributes(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/sortable-attributes`,i=yield this.httpRequest.put(e,t);return new c(i)})}resetSortableAttributes(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/sortable-attributes`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getSearchableAttributes(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/searchable-attributes`;return yield this.httpRequest.get(t)})}updateSearchableAttributes(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/searchable-attributes`,i=yield this.httpRequest.put(e,t);return new c(i)})}resetSearchableAttributes(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/searchable-attributes`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getDisplayedAttributes(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/displayed-attributes`;return yield this.httpRequest.get(t)})}updateDisplayedAttributes(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/displayed-attributes`,i=yield this.httpRequest.put(e,t);return new c(i)})}resetDisplayedAttributes(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/displayed-attributes`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getTypoTolerance(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/typo-tolerance`;return yield this.httpRequest.get(t)})}updateTypoTolerance(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/typo-tolerance`,i=yield this.httpRequest.patch(e,t);return i.enqueuedAt=new Date(i.enqueuedAt),i})}resetTypoTolerance(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/typo-tolerance`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getFaceting(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/faceting`;return yield this.httpRequest.get(t)})}updateFaceting(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/faceting`,i=yield this.httpRequest.patch(e,t);return new c(i)})}resetFaceting(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/faceting`,e=yield this.httpRequest.delete(t);return new c(e)})}getSeparatorTokens(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/separator-tokens`;return yield this.httpRequest.get(t)})}updateSeparatorTokens(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/separator-tokens`,i=yield this.httpRequest.put(e,t);return new c(i)})}resetSeparatorTokens(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/separator-tokens`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getNonSeparatorTokens(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/non-separator-tokens`;return yield this.httpRequest.get(t)})}updateNonSeparatorTokens(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/non-separator-tokens`,i=yield this.httpRequest.put(e,t);return new c(i)})}resetNonSeparatorTokens(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/non-separator-tokens`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getDictionary(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/dictionary`;return yield this.httpRequest.get(t)})}updateDictionary(t){return s(this,void 0,void 0,function*(){const e=`indexes/${this.uid}/settings/dictionary`,i=yield this.httpRequest.put(e,t);return new c(i)})}resetDictionary(){return s(this,void 0,void 0,function*(){const t=`indexes/${this.uid}/settings/dictionary`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}}class st{constructor(t){this.config=t,this.httpRequest=new T(t),this.tasks=new I(t)}index(t){return new p(this.config,t)}getIndex(t){return s(this,void 0,void 0,function*(){return new p(this.config,t).fetchInfo()})}getRawIndex(t){return s(this,void 0,void 0,function*(){return new p(this.config,t).getRawInfo()})}getIndexes(t={}){return s(this,void 0,void 0,function*(){const e=yield this.getRawIndexes(t),i=e.results.map(n=>new p(this.config,n.uid,n.primaryKey));return Object.assign(Object.assign({},e),{results:i})})}getRawIndexes(t={}){return s(this,void 0,void 0,function*(){const e="indexes";return yield this.httpRequest.get(e,t)})}createIndex(t,e={}){return s(this,void 0,void 0,function*(){return yield p.create(t,e,this.config)})}updateIndex(t,e={}){return s(this,void 0,void 0,function*(){return yield new p(this.config,t).update(e)})}deleteIndex(t){return s(this,void 0,void 0,function*(){return yield new p(this.config,t).delete()})}deleteIndexIfExists(t){return s(this,void 0,void 0,function*(){try{return yield this.deleteIndex(t),!0}catch(e){if(e.code==="index_not_found")return!1;throw e}})}swapIndexes(t){return s(this,void 0,void 0,function*(){const e="/swap-indexes";return yield this.httpRequest.post(e,t)})}multiSearch(t,e){return s(this,void 0,void 0,function*(){const i="multi-search";return yield this.httpRequest.post(i,t,void 0,e)})}getTasks(t={}){return s(this,void 0,void 0,function*(){return yield this.tasks.getTasks(t)})}getTask(t){return s(this,void 0,void 0,function*(){return yield this.tasks.getTask(t)})}waitForTasks(t,{timeOutMs:e=5e3,intervalMs:i=50}={}){return s(this,void 0,void 0,function*(){return yield this.tasks.waitForTasks(t,{timeOutMs:e,intervalMs:i})})}waitForTask(t,{timeOutMs:e=5e3,intervalMs:i=50}={}){return s(this,void 0,void 0,function*(){return yield this.tasks.waitForTask(t,{timeOutMs:e,intervalMs:i})})}cancelTasks(t){return s(this,void 0,void 0,function*(){return yield this.tasks.cancelTasks(t)})}deleteTasks(t={}){return s(this,void 0,void 0,function*(){return yield this.tasks.deleteTasks(t)})}getKeys(t={}){return s(this,void 0,void 0,function*(){const e="keys",i=yield this.httpRequest.get(e,t);return i.results=i.results.map(n=>Object.assign(Object.assign({},n),{createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)})),i})}getKey(t){return s(this,void 0,void 0,function*(){const e=`keys/${t}`;return yield this.httpRequest.get(e)})}createKey(t){return s(this,void 0,void 0,function*(){const e="keys";return yield this.httpRequest.post(e,t)})}updateKey(t,e){return s(this,void 0,void 0,function*(){const i=`keys/${t}`;return yield this.httpRequest.patch(i,e)})}deleteKey(t){return s(this,void 0,void 0,function*(){const e=`keys/${t}`;return yield this.httpRequest.delete(e)})}health(){return s(this,void 0,void 0,function*(){const t="health";return yield this.httpRequest.get(t)})}isHealthy(){return s(this,void 0,void 0,function*(){try{const t="health";return yield this.httpRequest.get(t),!0}catch{return!1}})}getStats(){return s(this,void 0,void 0,function*(){const t="stats";return yield this.httpRequest.get(t)})}getVersion(){return s(this,void 0,void 0,function*(){const t="version";return yield this.httpRequest.get(t)})}createDump(){return s(this,void 0,void 0,function*(){const t="dumps",e=yield this.httpRequest.post(t);return new c(e)})}generateTenantToken(t,e,i){const n=new Error;throw new Error(`Meilisearch: failed to generate a tenant token. Generation of a token only works in a node environment 
 ${n.stack}.`)}}function C(r){return Buffer.from(JSON.stringify(r)).toString("base64")}function nt(r,t,e){return L.createHmac("sha256",r).update(`${t}.${e}`).digest("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function rt(){return C({alg:"HS256",typ:"JWT"}).replace(/=/g,"")}function ut(r){const{searchRules:t,uid:e,apiKey:i,expiresAt:n}=r;if(n)if(n instanceof Date){if(n.getTime()<Date.now())throw new v("Meilisearch: The expiresAt field must be a date in the future.")}else throw new v("Meilisearch: The expiredAt field must be an instance of Date.");if(t&&!(typeof t=="object"||Array.isArray(t)))throw new v("Meilisearch: The search rules added in the token generation must be of type array or object.");if(!i||typeof i!="string")throw new v("Meilisearch: The API key used for the token generation must exist and be of type string.");if(!e||typeof e!="string")throw new v("Meilisearch: The uid of the api key used for the token generation must exist, be of type string and comply to the uuid4 format.");if(!Y(e))throw new v("Meilisearch: The uid of your key is not a valid uuid4. To find out the uid of your key use getKey().")}function ot(r){const{searchRules:t,uid:e,expiresAt:i}=r,n={searchRules:t,apiKeyUid:e,exp:i?Math.floor(i.getTime()/1e3):void 0};return C(n).replace(/=/g,"")}class dt{constructor(t){this.config=t}generateTenantToken(t,e,i){const n=(i==null?void 0:i.apiKey)||this.config.apiKey||"",u=t||"",o=i==null?void 0:i.expiresAt;ut({apiKey:n,uid:u,expiresAt:o,searchRules:e});const d=rt(),l=ot({searchRules:e,uid:u,expiresAt:o}),h=nt(n,d,l);return`${d}.${l}.${h}`}}class at extends st{constructor(t){super(t),this.tokens=new dt(t)}generateTenantToken(t,e,i){return typeof window>"u"?this.tokens.generateTenantToken(t,e,i):super.generateTenantToken(t,e,i)}}const ct={key:0,class:"flex mt-5 justify-center"},ht=F("img",{src:"https://epubjs.netlify.app/ajax-loader.gif"},null,-1),lt=[ht],gt={__name:"search",setup(r){const t=N(),e=new at({host:"https://wijcamo.domcloud.io/",apiKey:"QIlrH5un4bW5bzIeOWaaV9e4INfBwE8HGyP2FLNmmQg"}),i=x(!1),n=x([]),u=x([]),o=x("");function d(l){l===o.value||(o.value=l,i.value=!0,n.value=[],e.index("docs").search(l).then(h=>{n.value=h.hits,i.value=!1,n.value.length>0&&(u.value=V("/docdata",{method:"post",body:{zyids:n.value.map(a=>a.id)}}))}))}return(l,h)=>{const a=H,f=K,b=P,q=M;return _(),j(B,null,[m(b,null,{default:S(()=>[m(a,null,{default:S(()=>[W(O("搜索:"+g(t).query.qry+"【电子书下载】- 天空网"),1)]),_:1}),m(f,{name:"description",content:"天空网书籍频道为您提供电子书 "+g(t).query.qry+" 在线下载"},null,8,["content"])]),_:1}),F("div",null,O(d(g(t).query.qry)),1),g(i)?(_(),j("div",ct,lt)):U("",!0),m(q,{products:g(n),"doc-stat":g(u)},null,8,["products","doc-stat"])],64)}}};export{gt as default};
