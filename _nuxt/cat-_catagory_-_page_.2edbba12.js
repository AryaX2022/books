import{H as N,T as S,M as T}from"./components.64dce752.js";import{_ as V}from"./productslist.af6dff6f.js";import{D as F,r as n,c as v,b as p,w as r,g as t,h as l,s as _,a as x,F as w,H as C,_ as D,o,d as m,t as q}from"./entry.cea0bdbc.js";import{u as i}from"./useMyFetch.dffdcfee.js";const z={key:0,class:"flex mt-1 justify-center"},E=x("img",{src:"https://epubjs.netlify.app/ajax-loader.gif"},null,-1),I=[E],P={class:"flex mt-10 mb-5 justify-center"},K={__name:"cat-[catagory]-[page]",setup(R){const u=F(),k=C,g=u.params.catagory,s=k[u.params.catagory],d=n(!1);d.value=!0;const y=n(0);i("/booksbycat/total",{method:"post",body:{cat:s}}).then(c=>{y.value=c.data.value});const a=parseInt(u.params.page),e=n([]),f=n([]);return i("/booksbycat/"+a,{method:"post",body:{cat:s}}).then(c=>{e.value=c.data.value,e.value.length>0&&(f.value=i("/docdata",{method:"post",body:{zyids:e.value.map(h=>h.id)}})),d.value=!1}),(c,h)=>{const j=S,B=T,H=N,M=V,b=D;return o(),v(w,null,[p(H,null,{default:r(()=>[p(j,null,{default:r(()=>[m(q("书籍分类-"+t(s)+"【电子书下载】- 天空网"),1)]),_:1}),p(B,{name:"description",content:"天空网书籍频道为您提供电子书 "+t(s)+" 在线下载"},null,8,["content"])]),_:1}),t(d)?(o(),v("div",z,I)):l("",!0),t(e).length>0?(o(),_(M,{key:1,products:t(e),"doc-stat":t(f)},null,8,["products","doc-stat"])):l("",!0),x("div",P,[t(a)>1?(o(),_(b,{key:0,to:"/products/cat-"+t(g)+"-"+(t(a)-1).toString(),class:"mr-4 hover:bg-gray-200 bg-gray-100 text-gray-500 px-6 py-1 rounded"},{default:r(()=>[m("上一页")]),_:1},8,["to"])):l("",!0),t(a)<t(y)+1?(o(),_(b,{key:1,to:"/products/cat-"+t(g)+"-"+(t(a)+1).toString(),class:"hover:bg-gray-200 bg-gray-100 text-gray-500 px-6 py-1 rounded"},{default:r(()=>[m("下一页")]),_:1},8,["to"])):l("",!0)])],64)}}};export{K as default};
